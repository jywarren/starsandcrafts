<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Stars and Crafts</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <style>
      body {
        background-color: rgb(200,200,200);
        margin: 0px;
        overflow: hidden;
      }

      #info {
        position: absolute;
        top: 0px; width: 100%;
        color: #ffffff;
        padding: 5px;
        font-family:Monospace;
        font-size:13px;
        font-weight: bold;
        text-align:center;
      }

      a {
        color: #ffffff;
      }
    </style>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="bower_components/fontawesome/css/font-awesome.min.css" rel="stylesheet">

  </head>
  <body>

    <div id="container"></div>
    <div id="info"><a href="https://github.com/jywarren/starsandcrafts" target="_blank">Stars &amp; Crafts</a></div>

    <hr />

    <div id="controls" class="container" style="text-align:center;">

      <p>To create a new environment, enter a unique key and press "Host". To connect to an existing server, enter the key listed at the top of the server's display, and select a role.</p>

      <div class="form-group">
        <label for="key">Enter a key:</label>
        <input id="key" class="input-key form-control input-block" />
      </div>

      <p>
        <a class="btn btn-default btn-server">Host</a>
      </p>

      <h4>Roles</h4>

      <p>
        <a class="btn btn-default btn-helm">Helm</a>
        <a class="btn btn-default btn-sensors">Sensors</a>
      </p>

    </div>

    <script>

      (function() {

        $('.input-key').val(btoa(Math.random()).split('=')[0].substr(3, 4));

        $('.btn-server').click(function(e) {

          e.preventDefault();
          window.location = "server/#key=" + $('.input-key').val();

        });

        var roles = [
          "helm",
          "sensors"
        ];

        roles.forEach(function(role) {

          $('.btn-' + role).click(function(e) {
 
            e.preventDefault();
            window.location = "roles/" + role + "/#key=" + $('.input-key').val();
 
          });

        });

      })();

    </script>

  </body>
</html>
